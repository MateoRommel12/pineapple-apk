{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Documents\\\\Capstone\\\\components\\\\PineappleUploader.tsx\";\nimport { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { Camera, Upload } from \"react-native-feather\";\nimport * as tf from '@tensorflow/tfjs';\nimport * as FileSystem from 'expo-file-system';\nimport { decodeJpeg } from '@tensorflow/tfjs-react-native';\nimport * as mobilenet from '@tensorflow-models/mobilenet';\nimport { theme } from \"../theme\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PineappleUploader() {\n  const [image, setImage] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [result, setResult] = useState(null);\n  const [model, setModel] = useState(null);\n  const [isTfReady, setIsTfReady] = useState(false);\n  useEffect(() => {\n    setupTensorFlow();\n  }, []);\n  const setupTensorFlow = async () => {\n    try {\n      await tf.ready();\n      setIsTfReady(true);\n      console.log('TensorFlow.js is ready');\n      console.log('Loading MobileNet model...');\n      const loadedModel = await mobilenet.load({\n        version: 2,\n        alpha: 1.0\n      });\n      setModel(loadedModel);\n      console.log('MobileNet model loaded');\n    } catch (error) {\n      console.error('Error setting up TensorFlow:', error);\n    }\n  };\n  const analyzePineappleImage = async imageUri => {\n    try {\n      if (!model || !isTfReady) {\n        throw new Error('Model or TensorFlow is not ready');\n      }\n      console.log('Starting image analysis...');\n      const resolvedUri = imageUri.startsWith('file://') ? imageUri : `file://${imageUri}`;\n      console.log('Resolved URI:', resolvedUri);\n      console.log('Reading image data...');\n      try {\n        const imgB64 = await FileSystem.readAsStringAsync(resolvedUri, {\n          encoding: FileSystem.EncodingType.Base64,\n          length: 0\n        });\n        console.log('Converting image format...');\n        const imgBuffer = tf.util.encodeString(imgB64, 'base64').buffer;\n        const raw = new Uint8Array(imgBuffer);\n        console.log('Processing image...');\n        let imageTensor = decodeJpeg(raw);\n        const shape = imageTensor.shape;\n        console.log('Image tensor shape:', shape);\n        if (shape.length > 3) {\n          imageTensor = imageTensor.squeeze([0]);\n        }\n        const resized = tf.image.resizeBilinear(imageTensor, [224, 224]);\n        const normalized = tf.div(resized, 255.0);\n        console.log('Getting predictions...');\n        const predictions = await model.classify(normalized);\n        tf.dispose([imageTensor, resized, normalized]);\n        console.log('Analyzing predictions:', predictions);\n        const pineappleFeatures = analyzePredictions(predictions);\n        return pineappleFeatures;\n      } catch (fileError) {\n        console.error('Error reading file:', fileError);\n        const response = await fetch(resolvedUri);\n        const blob = await response.blob();\n        const base64 = await new Promise(resolve => {\n          const reader = new FileReader();\n          reader.onloadend = () => resolve(reader.result);\n          reader.readAsDataURL(blob);\n        });\n        const base64Data = base64.toString().split(',')[1];\n        const imgBuffer = tf.util.encodeString(base64Data, 'base64').buffer;\n        const raw = new Uint8Array(imgBuffer);\n        let imageTensor = decodeJpeg(raw);\n        const resized = tf.image.resizeBilinear(imageTensor, [224, 224]);\n        const normalized = tf.div(resized, 255.0);\n        const predictions = await model.classify(normalized);\n        tf.dispose([imageTensor, resized, normalized]);\n        return analyzePredictions(predictions);\n      }\n    } catch (error) {\n      console.error('Error analyzing image:', error);\n      throw error;\n    }\n  };\n  const analyzePredictions = predictions => {\n    const ripeness = predictions.find(p => p.className.toLowerCase().includes('pineapple') || p.className.toLowerCase().includes('fruit'))?.probability || 0;\n    const sweetness = ripeness * 10;\n    return {\n      sweetness: Number(sweetness.toFixed(1)),\n      confidence: Math.round(ripeness * 100),\n      category: getSweetnessCategory(sweetness),\n      characteristics: getPineappleCharacteristics(predictions)\n    };\n  };\n  const getSweetnessCategory = sweetness => {\n    if (sweetness >= 8) return \"Very Sweet\";\n    if (sweetness >= 6) return \"Medium Sweet\";\n    return \"Less Sweet\";\n  };\n  const getPineappleCharacteristics = predictions => {\n    const characteristics = [];\n    if (predictions[0].probability > 0.8) {\n      characteristics.push(\"Optimal yellow-to-green ratio\");\n    }\n    if (predictions[0].probability > 0.6) {\n      characteristics.push(\"Healthy frond appearance\");\n    }\n    characteristics.push('Medium-sized \"eyes\"');\n    return characteristics;\n  };\n  const pickImage = async () => {\n    const {\n      status\n    } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    if (status !== \"granted\") {\n      alert(\"Sorry, we need camera roll permissions to make this work!\");\n      return;\n    }\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8\n    });\n    if (!result.canceled) {\n      setImage(result.assets[0].uri);\n      setResult(null);\n    }\n  };\n  const takePhoto = async () => {\n    const {\n      status\n    } = await ImagePicker.requestCameraPermissionsAsync();\n    if (status !== \"granted\") {\n      alert(\"Sorry, we need camera permissions to make this work!\");\n      return;\n    }\n    const result = await ImagePicker.launchCameraAsync({\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8\n    });\n    if (!result.canceled) {\n      setImage(result.assets[0].uri);\n      setResult(null);\n    }\n  };\n  const analyzeImage = async () => {\n    if (!image) return;\n    setIsAnalyzing(true);\n    try {\n      const analysisResult = await analyzePineappleImage(image);\n      setResult(analysisResult);\n    } catch (error) {\n      console.error('Error during analysis:', error);\n      alert('Error analyzing image. Please try again.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const resetUploader = () => {\n    setImage(null);\n    setResult(null);\n  };\n  if (!image) {\n    return _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(View, {\n        style: styles.header,\n        children: [_jsxDEV(View, {\n          style: styles.iconContainer,\n          children: _jsxDEV(Camera, {\n            stroke: theme.colors.yellow[600],\n            width: 24,\n            height: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.title,\n          children: \"Upload Pineapple Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.subtitle,\n          children: \"Take a clear photo of the whole pineapple for the best results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.uploadOptions,\n        children: [_jsxDEV(TouchableOpacity, {\n          style: styles.uploadButton,\n          onPress: takePhoto,\n          children: [_jsxDEV(Camera, {\n            stroke: theme.colors.text,\n            width: 24,\n            height: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.uploadButtonText,\n            children: \"Take Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: styles.uploadButton,\n          onPress: pickImage,\n          children: [_jsxDEV(Upload, {\n            stroke: theme.colors.text,\n            width: 24,\n            height: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.uploadButtonText,\n            children: \"Choose from Gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.terms,\n        children: \"By uploading an image, you agree to our Terms of Service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.imageContainer,\n      children: [_jsxDEV(Image, {\n        source: {\n          uri: image\n        },\n        style: styles.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.resetButton,\n        onPress: resetUploader,\n        children: _jsxDEV(Text, {\n          style: styles.resetButtonText,\n          children: \"Upload a different image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      style: styles.resultContainer,\n      children: isAnalyzing ? _jsxDEV(View, {\n        style: styles.analyzing,\n        children: [_jsxDEV(ActivityIndicator, {\n          size: \"large\",\n          color: theme.colors.yellow[500]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.analyzingText,\n          children: \"Analyzing your pineapple...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.analyzingSubtext,\n          children: \"Our AI is examining visual characteristics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this) : result ? _jsxDEV(View, {\n        style: styles.results,\n        children: [_jsxDEV(View, {\n          style: styles.resultHeader,\n          children: [_jsxDEV(Text, {\n            style: styles.resultCategory,\n            children: result.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            style: styles.resultScore,\n            children: [\"Sweetness score: \", result.sweetness, \"/10\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this), _jsxDEV(View, {\n            style: styles.confidenceContainer,\n            children: [_jsxDEV(Text, {\n              style: styles.confidenceLabel,\n              children: \"Confidence:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), _jsxDEV(View, {\n              style: styles.confidenceBar,\n              children: _jsxDEV(View, {\n                style: [styles.confidenceFill, {\n                  width: `${result.confidence}%`\n                }]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              style: styles.confidenceValue,\n              children: [result.confidence, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          style: styles.characteristicsContainer,\n          children: [_jsxDEV(Text, {\n            style: styles.characteristicsTitle,\n            children: \"Characteristics Detected:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), result.characteristics.map((characteristic, index) => _jsxDEV(View, {\n            style: styles.characteristic,\n            children: [_jsxDEV(View, {\n              style: [styles.characteristicDot, {\n                backgroundColor: index < 2 ? theme.colors.green[500] : theme.colors.yellow[500]\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this), _jsxDEV(Text, {\n              style: styles.characteristicText,\n              children: characteristic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this) : _jsxDEV(View, {\n        style: styles.readyToAnalyze,\n        children: [_jsxDEV(Text, {\n          style: styles.readyTitle,\n          children: \"Ready to Analyze\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          style: styles.readySubtext,\n          children: \"Click the button below to analyze your pineapple and predict its sweetness\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), _jsxDEV(TouchableOpacity, {\n          style: styles.analyzeButton,\n          onPress: analyzeImage,\n          children: _jsxDEV(Text, {\n            style: styles.analyzeButtonText,\n            children: \"Analyze Pineapple\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: Object.assign({\n    backgroundColor: theme.colors.card,\n    borderRadius: 12,\n    overflow: \"hidden\"\n  }, theme.shadows.md),\n  header: {\n    alignItems: \"center\",\n    padding: 20\n  },\n  iconContainer: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: theme.colors.yellow[100],\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 12\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: theme.colors.text,\n    marginBottom: 8\n  },\n  subtitle: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    textAlign: \"center\"\n  },\n  uploadOptions: {\n    padding: 16\n  },\n  uploadButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: theme.colors.muted,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 12\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    fontSize: 16,\n    fontWeight: \"500\",\n    color: theme.colors.text\n  },\n  terms: {\n    fontSize: 12,\n    color: theme.colors.textMuted,\n    textAlign: \"center\",\n    marginTop: 8,\n    marginBottom: 16,\n    paddingHorizontal: 16\n  },\n  imageContainer: {\n    alignItems: \"center\",\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border\n  },\n  image: {\n    width: 200,\n    height: 200,\n    borderRadius: 8\n  },\n  resetButton: {\n    marginTop: 12,\n    padding: 8\n  },\n  resetButtonText: {\n    fontSize: 14,\n    color: theme.colors.primary\n  },\n  resultContainer: {\n    padding: 16\n  },\n  analyzing: {\n    alignItems: \"center\",\n    padding: 20\n  },\n  analyzingText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginTop: 12\n  },\n  analyzingSubtext: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    marginTop: 4\n  },\n  readyToAnalyze: {\n    alignItems: \"center\",\n    padding: 16\n  },\n  readyTitle: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginBottom: 8\n  },\n  readySubtext: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    textAlign: \"center\",\n    marginBottom: 16\n  },\n  analyzeButton: Object.assign({\n    backgroundColor: theme.colors.yellow[500],\n    borderRadius: 8,\n    paddingVertical: 12,\n    paddingHorizontal: 24\n  }, theme.shadows.sm),\n  analyzeButtonText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"white\"\n  },\n  results: {\n    padding: 8\n  },\n  resultHeader: {\n    backgroundColor: theme.colors.yellow[50],\n    borderRadius: 8,\n    padding: 16,\n    alignItems: \"center\",\n    marginBottom: 16\n  },\n  resultCategory: {\n    fontSize: 22,\n    fontWeight: \"bold\",\n    color: theme.colors.yellow[700]\n  },\n  resultScore: {\n    fontSize: 16,\n    color: theme.colors.yellow[600],\n    marginTop: 4\n  },\n  confidenceContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 12,\n    width: \"100%\"\n  },\n  confidenceLabel: {\n    fontSize: 12,\n    color: theme.colors.textMuted,\n    width: 70\n  },\n  confidenceBar: {\n    flex: 1,\n    height: 8,\n    backgroundColor: theme.colors.yellow[200],\n    borderRadius: 4,\n    marginHorizontal: 8\n  },\n  confidenceFill: {\n    height: 8,\n    backgroundColor: theme.colors.yellow[500],\n    borderRadius: 4\n  },\n  confidenceValue: {\n    fontSize: 12,\n    fontWeight: \"500\",\n    color: theme.colors.text,\n    width: 40,\n    textAlign: \"right\"\n  },\n  characteristicsContainer: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12\n  },\n  characteristicsTitle: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginBottom: 8\n  },\n  characteristic: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 8\n  },\n  characteristicDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    marginRight: 8\n  },\n  characteristicText: {\n    fontSize: 14,\n    color: theme.colors.text\n  }\n});","map":{"version":3,"names":["_jsxFileName","useState","useEffect","View","Text","StyleSheet","Image","TouchableOpacity","ActivityIndicator","ImagePicker","Camera","Upload","tf","FileSystem","decodeJpeg","mobilenet","theme","jsxDEV","_jsxDEV","PineappleUploader","image","setImage","isAnalyzing","setIsAnalyzing","result","setResult","model","setModel","isTfReady","setIsTfReady","setupTensorFlow","ready","console","log","loadedModel","load","version","alpha","error","analyzePineappleImage","imageUri","Error","resolvedUri","startsWith","imgB64","readAsStringAsync","encoding","EncodingType","Base64","length","imgBuffer","util","encodeString","buffer","raw","Uint8Array","imageTensor","shape","squeeze","resized","resizeBilinear","normalized","div","predictions","classify","dispose","pineappleFeatures","analyzePredictions","fileError","response","fetch","blob","base64","Promise","resolve","reader","FileReader","onloadend","readAsDataURL","base64Data","toString","split","ripeness","find","p","className","toLowerCase","includes","probability","sweetness","Number","toFixed","confidence","Math","round","category","getSweetnessCategory","characteristics","getPineappleCharacteristics","push","pickImage","status","requestMediaLibraryPermissionsAsync","alert","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","assets","uri","takePhoto","requestCameraPermissionsAsync","launchCameraAsync","analyzeImage","analysisResult","resetUploader","style","styles","container","children","header","iconContainer","stroke","colors","yellow","width","height","fileName","lineNumber","columnNumber","title","subtitle","uploadOptions","uploadButton","onPress","text","uploadButtonText","terms","imageContainer","source","resetButton","resetButtonText","resultContainer","analyzing","size","color","analyzingText","analyzingSubtext","results","resultHeader","resultCategory","resultScore","confidenceContainer","confidenceLabel","confidenceBar","confidenceFill","confidenceValue","characteristicsContainer","characteristicsTitle","map","characteristic","index","characteristicDot","backgroundColor","green","characteristicText","readyToAnalyze","readyTitle","readySubtext","analyzeButton","analyzeButtonText","create","Object","assign","card","borderRadius","overflow","shadows","md","alignItems","padding","justifyContent","marginBottom","fontSize","fontWeight","textMuted","textAlign","flexDirection","muted","marginLeft","marginTop","paddingHorizontal","borderBottomWidth","borderBottomColor","border","primary","paddingVertical","sm","flex","marginHorizontal","borderWidth","borderColor","marginRight"],"sources":["C:/Users/ACER/Documents/Capstone/components/PineappleUploader.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { View, Text, StyleSheet, Image, TouchableOpacity, ActivityIndicator, Platform } from \"react-native\"\nimport * as ImagePicker from \"expo-image-picker\"\nimport { Camera, Upload } from \"react-native-feather\"\nimport * as tf from '@tensorflow/tfjs'\nimport * as FileSystem from 'expo-file-system'\nimport { bundleResourceIO, decodeJpeg } from '@tensorflow/tfjs-react-native'\nimport * as mobilenet from '@tensorflow-models/mobilenet'\n\nimport { theme } from \"../theme\"\n\ninterface AnalysisResult {\n  sweetness: number;\n  confidence: number;\n  category: string;\n  characteristics: string[];\n}\n\ninterface Prediction {\n  className: string;\n  probability: number;\n}\n\nexport default function PineappleUploader() {\n  const [image, setImage] = useState<string | null>(null)\n  const [isAnalyzing, setIsAnalyzing] = useState<boolean>(false)\n  const [result, setResult] = useState<AnalysisResult | null>(null)\n  const [model, setModel] = useState<mobilenet.MobileNet | null>(null)\n  const [isTfReady, setIsTfReady] = useState(false)\n\n  useEffect(() => {\n    setupTensorFlow()\n  }, [])\n\n  const setupTensorFlow = async () => {\n    try {\n      // Wait for TensorFlow.js to be ready\n      await tf.ready()\n      setIsTfReady(true)\n      console.log('TensorFlow.js is ready')\n\n      // Load MobileNet model\n      console.log('Loading MobileNet model...')\n      const loadedModel = await mobilenet.load({\n        version: 2,\n        alpha: 1.0\n      })\n      setModel(loadedModel)\n      console.log('MobileNet model loaded')\n    } catch (error) {\n      console.error('Error setting up TensorFlow:', error)\n    }\n  }\n\n  const analyzePineappleImage = async (imageUri: string) => {\n    try {\n      if (!model || !isTfReady) {\n        throw new Error('Model or TensorFlow is not ready')\n      }\n\n      console.log('Starting image analysis...')\n\n      // Handle file URI for different platforms\n      const resolvedUri = imageUri.startsWith('file://') ? imageUri : `file://${imageUri}`\n      console.log('Resolved URI:', resolvedUri)\n\n      // Read the image data\n      console.log('Reading image data...')\n      try {\n        const imgB64 = await FileSystem.readAsStringAsync(resolvedUri, {\n          encoding: FileSystem.EncodingType.Base64,\n          length: 0, // Read the entire file\n        })\n\n        // Convert base64 to Uint8Array\n        console.log('Converting image format...')\n        const imgBuffer = tf.util.encodeString(imgB64, 'base64').buffer\n        const raw = new Uint8Array(imgBuffer)\n\n        // Decode and preprocess the image\n        console.log('Processing image...')\n        let imageTensor = decodeJpeg(raw)\n\n        // Ensure the tensor is 3D (height x width x channels)\n        const shape = imageTensor.shape\n        console.log('Image tensor shape:', shape)\n        if (shape.length > 3) {\n          imageTensor = imageTensor.squeeze([0])\n        }\n\n        // Normalize and resize the image\n        const resized = tf.image.resizeBilinear(imageTensor, [224, 224])\n        const normalized = tf.div(resized, 255.0)\n\n        // Get predictions\n        console.log('Getting predictions...')\n        const predictions = await model.classify(normalized as tf.Tensor3D)\n        \n        // Cleanup tensors\n        tf.dispose([imageTensor, resized, normalized])\n        \n        // Analyze the predictions\n        console.log('Analyzing predictions:', predictions)\n        const pineappleFeatures = analyzePredictions(predictions)\n        \n        return pineappleFeatures\n      } catch (fileError) {\n        console.error('Error reading file:', fileError)\n        // Try alternative method using fetch\n        const response = await fetch(resolvedUri)\n        const blob = await response.blob()\n        const base64 = await new Promise<string>((resolve) => {\n          const reader = new FileReader()\n          reader.onloadend = () => resolve(reader.result as string)\n          reader.readAsDataURL(blob)\n        })\n        const base64Data = base64.toString().split(',')[1]\n        \n        // Convert base64 to Uint8Array\n        const imgBuffer = tf.util.encodeString(base64Data, 'base64').buffer\n        const raw = new Uint8Array(imgBuffer)\n        \n        // Continue with image processing...\n        let imageTensor = decodeJpeg(raw)\n        const resized = tf.image.resizeBilinear(imageTensor, [224, 224])\n        const normalized = tf.div(resized, 255.0)\n        \n        const predictions = await model.classify(normalized as tf.Tensor3D)\n        tf.dispose([imageTensor, resized, normalized])\n        \n        return analyzePredictions(predictions)\n      }\n    } catch (error) {\n      console.error('Error analyzing image:', error)\n      throw error\n    }\n  }\n\n  const analyzePredictions = (predictions: Prediction[]) => {\n    // This is a simplified analysis - you would want to tune this based on your specific needs\n    const ripeness = predictions.find(p => \n      p.className.toLowerCase().includes('pineapple') || \n      p.className.toLowerCase().includes('fruit'))?.probability || 0\n\n    const sweetness = ripeness * 10 // Convert to 0-10 scale\n    \n    return {\n      sweetness: Number(sweetness.toFixed(1)),\n      confidence: Math.round(ripeness * 100),\n      category: getSweetnessCategory(sweetness),\n      characteristics: getPineappleCharacteristics(predictions)\n    }\n  }\n\n  const getSweetnessCategory = (sweetness: number): string => {\n    if (sweetness >= 8) return \"Very Sweet\"\n    if (sweetness >= 6) return \"Medium Sweet\"\n    return \"Less Sweet\"\n  }\n\n  const getPineappleCharacteristics = (predictions: Prediction[]): string[] => {\n    const characteristics = []\n    \n    // Add characteristics based on predictions\n    if (predictions[0].probability > 0.8) {\n      characteristics.push(\"Optimal yellow-to-green ratio\")\n    }\n    if (predictions[0].probability > 0.6) {\n      characteristics.push(\"Healthy frond appearance\")\n    }\n    characteristics.push('Medium-sized \"eyes\"')\n    \n    return characteristics\n  }\n\n  const pickImage = async () => {\n    // Request permission\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync()\n\n    if (status !== \"granted\") {\n      alert(\"Sorry, we need camera roll permissions to make this work!\")\n      return\n    }\n\n    // Launch image picker\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    })\n\n    if (!result.canceled) {\n      setImage(result.assets[0].uri)\n      setResult(null)\n    }\n  }\n\n  const takePhoto = async () => {\n    // Request permission\n    const { status } = await ImagePicker.requestCameraPermissionsAsync()\n\n    if (status !== \"granted\") {\n      alert(\"Sorry, we need camera permissions to make this work!\")\n      return\n    }\n\n    // Launch camera\n    const result = await ImagePicker.launchCameraAsync({\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    })\n\n    if (!result.canceled) {\n      setImage(result.assets[0].uri)\n      setResult(null)\n    }\n  }\n\n  const analyzeImage = async () => {\n    if (!image) return\n\n    setIsAnalyzing(true)\n    try {\n      const analysisResult = await analyzePineappleImage(image)\n      setResult(analysisResult)\n    } catch (error) {\n      console.error('Error during analysis:', error)\n      alert('Error analyzing image. Please try again.')\n    } finally {\n      setIsAnalyzing(false)\n    }\n  }\n\n  const resetUploader = () => {\n    setImage(null)\n    setResult(null)\n  }\n\n  if (!image) {\n    return (\n      <View style={styles.container}>\n        <View style={styles.header}>\n          <View style={styles.iconContainer}>\n            <Camera stroke={theme.colors.yellow[600]} width={24} height={24} />\n          </View>\n          <Text style={styles.title}>Upload Pineapple Image</Text>\n          <Text style={styles.subtitle}>Take a clear photo of the whole pineapple for the best results</Text>\n        </View>\n\n        <View style={styles.uploadOptions}>\n          <TouchableOpacity style={styles.uploadButton} onPress={takePhoto}>\n            <Camera stroke={theme.colors.text} width={24} height={24} />\n            <Text style={styles.uploadButtonText}>Take Photo</Text>\n          </TouchableOpacity>\n\n          <TouchableOpacity style={styles.uploadButton} onPress={pickImage}>\n            <Upload stroke={theme.colors.text} width={24} height={24} />\n            <Text style={styles.uploadButtonText}>Choose from Gallery</Text>\n          </TouchableOpacity>\n        </View>\n\n        <Text style={styles.terms}>By uploading an image, you agree to our Terms of Service</Text>\n      </View>\n    )\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.imageContainer}>\n        <Image source={{ uri: image }} style={styles.image} />\n\n        <TouchableOpacity style={styles.resetButton} onPress={resetUploader}>\n          <Text style={styles.resetButtonText}>Upload a different image</Text>\n        </TouchableOpacity>\n      </View>\n\n      <View style={styles.resultContainer}>\n        {isAnalyzing ? (\n          <View style={styles.analyzing}>\n            <ActivityIndicator size=\"large\" color={theme.colors.yellow[500]} />\n            <Text style={styles.analyzingText}>Analyzing your pineapple...</Text>\n            <Text style={styles.analyzingSubtext}>Our AI is examining visual characteristics</Text>\n          </View>\n        ) : result ? (\n          <View style={styles.results}>\n            <View style={styles.resultHeader}>\n              <Text style={styles.resultCategory}>{result.category}</Text>\n              <Text style={styles.resultScore}>Sweetness score: {result.sweetness}/10</Text>\n\n              <View style={styles.confidenceContainer}>\n                <Text style={styles.confidenceLabel}>Confidence:</Text>\n                <View style={styles.confidenceBar}>\n                  <View style={[styles.confidenceFill, { width: `${result.confidence}%` }]} />\n                </View>\n                <Text style={styles.confidenceValue}>{result.confidence}%</Text>\n              </View>\n            </View>\n\n            <View style={styles.characteristicsContainer}>\n              <Text style={styles.characteristicsTitle}>Characteristics Detected:</Text>\n\n              {result.characteristics.map((characteristic, index) => (\n                <View key={index} style={styles.characteristic}>\n                  <View\n                    style={[\n                      styles.characteristicDot,\n                      { backgroundColor: index < 2 ? theme.colors.green[500] : theme.colors.yellow[500] },\n                    ]}\n                  />\n                  <Text style={styles.characteristicText}>{characteristic}</Text>\n                </View>\n              ))}\n            </View>\n          </View>\n        ) : (\n          <View style={styles.readyToAnalyze}>\n            <Text style={styles.readyTitle}>Ready to Analyze</Text>\n            <Text style={styles.readySubtext}>\n              Click the button below to analyze your pineapple and predict its sweetness\n            </Text>\n\n            <TouchableOpacity style={styles.analyzeButton} onPress={analyzeImage}>\n              <Text style={styles.analyzeButtonText}>Analyze Pineapple</Text>\n            </TouchableOpacity>\n          </View>\n        )}\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: theme.colors.card,\n    borderRadius: 12,\n    overflow: \"hidden\",\n    ...theme.shadows.md,\n  },\n  header: {\n    alignItems: \"center\",\n    padding: 20,\n  },\n  iconContainer: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: theme.colors.yellow[100],\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 12,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: \"bold\",\n    color: theme.colors.text,\n    marginBottom: 8,\n  },\n  subtitle: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    textAlign: \"center\",\n  },\n  uploadOptions: {\n    padding: 16,\n  },\n  uploadButton: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: theme.colors.muted,\n    borderRadius: 8,\n    padding: 16,\n    marginBottom: 12,\n  },\n  uploadButtonText: {\n    marginLeft: 8,\n    fontSize: 16,\n    fontWeight: \"500\",\n    color: theme.colors.text,\n  },\n  terms: {\n    fontSize: 12,\n    color: theme.colors.textMuted,\n    textAlign: \"center\",\n    marginTop: 8,\n    marginBottom: 16,\n    paddingHorizontal: 16,\n  },\n  imageContainer: {\n    alignItems: \"center\",\n    padding: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: theme.colors.border,\n  },\n  image: {\n    width: 200,\n    height: 200,\n    borderRadius: 8,\n  },\n  resetButton: {\n    marginTop: 12,\n    padding: 8,\n  },\n  resetButtonText: {\n    fontSize: 14,\n    color: theme.colors.primary,\n  },\n  resultContainer: {\n    padding: 16,\n  },\n  analyzing: {\n    alignItems: \"center\",\n    padding: 20,\n  },\n  analyzingText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginTop: 12,\n  },\n  analyzingSubtext: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    marginTop: 4,\n  },\n  readyToAnalyze: {\n    alignItems: \"center\",\n    padding: 16,\n  },\n  readyTitle: {\n    fontSize: 18,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginBottom: 8,\n  },\n  readySubtext: {\n    fontSize: 14,\n    color: theme.colors.textMuted,\n    textAlign: \"center\",\n    marginBottom: 16,\n  },\n  analyzeButton: {\n    backgroundColor: theme.colors.yellow[500],\n    borderRadius: 8,\n    paddingVertical: 12,\n    paddingHorizontal: 24,\n    ...theme.shadows.sm,\n  },\n  analyzeButtonText: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: \"white\",\n  },\n  results: {\n    padding: 8,\n  },\n  resultHeader: {\n    backgroundColor: theme.colors.yellow[50],\n    borderRadius: 8,\n    padding: 16,\n    alignItems: \"center\",\n    marginBottom: 16,\n  },\n  resultCategory: {\n    fontSize: 22,\n    fontWeight: \"bold\",\n    color: theme.colors.yellow[700],\n  },\n  resultScore: {\n    fontSize: 16,\n    color: theme.colors.yellow[600],\n    marginTop: 4,\n  },\n  confidenceContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 12,\n    width: \"100%\",\n  },\n  confidenceLabel: {\n    fontSize: 12,\n    color: theme.colors.textMuted,\n    width: 70,\n  },\n  confidenceBar: {\n    flex: 1,\n    height: 8,\n    backgroundColor: theme.colors.yellow[200],\n    borderRadius: 4,\n    marginHorizontal: 8,\n  },\n  confidenceFill: {\n    height: 8,\n    backgroundColor: theme.colors.yellow[500],\n    borderRadius: 4,\n  },\n  confidenceValue: {\n    fontSize: 12,\n    fontWeight: \"500\",\n    color: theme.colors.text,\n    width: 40,\n    textAlign: \"right\",\n  },\n  characteristicsContainer: {\n    borderWidth: 1,\n    borderColor: theme.colors.border,\n    borderRadius: 8,\n    padding: 12,\n  },\n  characteristicsTitle: {\n    fontSize: 16,\n    fontWeight: \"600\",\n    color: theme.colors.text,\n    marginBottom: 8,\n  },\n  characteristic: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginBottom: 8,\n  },\n  characteristicDot: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    marginRight: 8,\n  },\n  characteristicText: {\n    fontSize: 14,\n    color: theme.colors.text,\n  },\n})\n\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}